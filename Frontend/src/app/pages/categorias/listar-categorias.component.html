<div class="page-wrapper">

  <div class="header-row">
    <h2>
      ğŸ“ CategorÃ­as
      <span class="badge">{{ categorias.length }}</span>
    </h2>
    <button class="btn btn-primary" (click)="crearCategoria()">
      âœ¨ NUEVA CATEGORÃA
    </button>
  </div>

  <div class="card">
    <!-- Mensaje de carga -->
    <div *ngIf="loading" class="loading-container">
      <div class="spinner"></div>
      <p>Cargando categorÃ­as...</p>
    </div>

    <!-- Mensaje de error -->
    <div *ngIf="!loading && error" class="error-container">
      <div class="error-icon">âš ï¸</div>
      <h3>{{ error }}</h3>
      <button class="btn btn-primary" (click)="cargarCategorias()" style="margin-top: 20px;">
        ğŸ”„ Reintentar
      </button>
    </div>

    <!-- Mensaje cuando no hay datos -->
    <div *ngIf="!loading && !error && categorias.length === 0" class="empty-container">
      <div class="empty-icon">ğŸ“</div>
      <h3>No hay categorÃ­as registradas</h3>
      <p>Comienza creando tu primera categorÃ­a</p>
      <button class="btn btn-primary" (click)="crearCategoria()" style="margin-top: 20px;">
        â• Crear Primera CategorÃ­a
      </button>
    </div>

    <!-- Tabla de categorÃ­as -->
    <div *ngIf="!loading && !error && categorias.length > 0">
      <table class="styled-table">
        <thead>
          <tr>
            <th style="width: 250px;">NOMBRE</th>
            <th>DESCRIPCIÃ“N</th>
            <th style="width: 220px;" class="center">ACCIONES</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let categoria of categorias">
            <td><strong>{{ categoria.nombre }}</strong></td>
            <td>{{ categoria.descripcion || 'Sin descripciÃ³n' }}</td>
            <td class="center">
              <div class="action-buttons">
                <button class="btn btn-warning" (click)="editarCategoria(categoria.id)">
                  âœï¸ EDITAR
                </button>
                <button class="btn btn-danger" (click)="eliminarCategoria(categoria.id, categoria.nombre)">
                  ğŸ—‘ï¸ ELIMINAR
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
